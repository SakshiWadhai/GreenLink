

<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">

    <a class="navbar-brand" href="#">
      <img src="assets/Green.png" class="logo-img" alt="GreenLink Logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">

        
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" routerLink="/front">Home</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" routerLink="/about_ua">About us</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" routerLink="/research">Research</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/Contact us">Contact us</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Dropdown link
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>
        </li>
      </ul> 

      <!-- Get Started Button (Added Here) -->
      <button class="btn btn-primary ms-auto" routerLink="/reclogin">Logout</button>

    </div>
  </div>
</nav>


 
<div class="profile-container">
  <button mat-icon-button [matMenuTriggerFor]="profileMenu">
    <mat-icon>account_circle</mat-icon>
  </button>
  <mat-menu #profileMenu="matMenu">
    <button mat-menu-item routerLink="/recprofile">Profile</button>
    <button mat-menu-item>Settings</button>
    <button mat-menu-item>Logout</button>
  </mat-menu>
</div>


<div class="main-container">
  <!-- Waste Data Table -->
  <div class="table-container">
    <h3 class="text-center">Waste Data from Generators</h3>
    <table class="table table-striped table-bordered mt-3">
      <thead class="table-dark">
        <tr>
          <th scope="col" style="width: 120px;">Waste Id</th>
          <th scope="col" style="width: 160px;">Waste Type</th>
          <th scope="col" style="width: 250px;">Description</th>
          <th scope="col" style="width: 250px;">Address</th>
          <th scope="col" style="width: 100px;">About Generator</th>
          <th scope="col" style="width: 100px;">Request</th>
        </tr>
      </thead> 
      <tbody>
        <tr *ngFor="let data of allGeneratorData">
          <td>{{ data.id }}</td>
          <td>{{ data.Waste_Type }}</td>
          <td>{{ data.Description }}</td>
          <td>{{ data.Address }}</td>
          <td>
            <button 
              mat-icon-button 
              [matTooltip]="tooltips[data.id] || 'Loading...'"
              matTooltipClass="custom-tooltip"
              matTooltipPosition="right"
              (mouseenter)="loadTooltip(data)">
              <mat-icon>info</mat-icon>
            </button>
          </td>
          <td>
            <button mat-icon-button (click)="openRequestForm(data.id, data.userId)">
              <mat-icon>send</mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Request Form (Only Visible When Row is Selected) -->
  <div class="request-form-container" *ngIf="selectedWasteId">
    <div class="request-form">
      <h4>Request Waste Pickup</h4>
      <form (ngSubmit)="submitRequest()">
        <div class="form-group">
          <label>Transportation Required?</label>
          <select [(ngModel)]="transportation" name="transportation" class="form-control">
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </div>

        <div class="form-group">
          <label>Pickup Address</label>
          <input type="text" [(ngModel)]="address" name="address" class="form-control" required />
        </div>

        <div class="form-group">
          <label>Quantity (in kg)</label>
          <input type="number" [(ngModel)]="quantity" name="quantity" class="form-control" min="1" required />
        </div>

        <button type="submit" class="btn btn-success mt-2">Submit Request</button>
        <button type="button" class="btn btn-danger mt-2 ms-2" (click)="selectedWasteId = null">
          Cancel
        </button>
      </form>
    </div>
  </div>
</div>

